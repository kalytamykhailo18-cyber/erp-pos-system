SCALE BRIDGE - INSTRUCCIONES DE INSTALACIÓN
===========================================

IMPORTANTE: Scale Bridge debe ejecutarse en una PC Windows ubicada en la sucursal,
en la misma red local que la balanza iTegra.

REQUISITOS:
-----------
1. PC Windows en la sucursal
2. Conexión a internet (para conectarse al backend)
3. Acceso a la red local donde está la balanza
4. Node.js 18 o superior instalado

PASOS DE INSTALACIÓN:
---------------------

1. Descargar el archivo scale-bridge-installer.tar.gz del servidor

2. Extraer el archivo en C:\scale-bridge\

3. Instalar Node.js si no está instalado:
   - Descargar de: https://nodejs.org/
   - Instalar versión LTS (Long Term Support)
   - Verificar instalación: abrir CMD y ejecutar "node --version"

4. Abrir PowerShell o CMD como Administrador

5. Ir a la carpeta del Scale Bridge:
   cd C:\scale-bridge

6. Instalar dependencias:
   npm install

7. IMPORTANTE: Necesitamos la siguiente información de la balanza:
   - Dirección IP de la balanza iTegra (ejemplo: 192.168.1.50)
   - Puerto (usualmente 21 para FTP, pero iTegra puede usar otro)
   - Protocolo: ¿FTP, HTTP, o TCP?
   - Usuario FTP (si usa FTP)
   - Contraseña FTP (si usa FTP)
   - Ruta de carga (ejemplo: /PRECIOLU.TXT o /ARTICULO.TXT)

8. Editar el archivo .env con la información correcta

9. Probar la conexión:
   node index.js

10. Si funciona, instalar como servicio de Windows:
    node install-service.js

SOLUCIÓN DE PROBLEMAS:
----------------------

Error "Scale Bridge not connected":
- Verificar que Scale Bridge esté ejecutándose
- Verificar conexión a internet
- Verificar que backend esté en https://api.grettas-erp.com

Error "Timeout":
- Verificar IP de la balanza
- Verificar que la PC pueda hacer ping a la balanza
- Verificar puerto y protocolo correctos
- iTegra puede no usar FTP - verificar documentación del fabricante

INFORMACIÓN SOBRE iTEGRA:
-------------------------

Las balanzas iTegra pueden usar diferentes protocolos:
- Algunos modelos usan carpeta compartida de Windows (SMB/CIFS)
- Algunos modelos usan FTP
- Algunos modelos usan HTTP/REST API
- El formato de archivo suele ser TXT con formato específico

NECESITAMOS CONFIRMAR CON EL FABRICANTE O MANUAL DE LA BALANZA:
1. ¿Qué protocolo usa la balanza para recibir archivos?
2. ¿Qué formato de archivo necesita? (CSV, TXT, formato específico)
3. ¿Cuál es la ruta donde se debe colocar el archivo?

CONTACTO:
---------
Para soporte técnico, reportar problemas a través del sistema.
